put all folders of frontend in client
if nodemodules not copied delete it go inside client and run npm install to get node modules here 

in root folder put npm init to get package.json for backend
add server.js as entry point
npm in mongoose express dotenv colors morgan---for logging the routes in console
add dev dependencies nodemon and concurrently

created server.js and imported express, morgan, dotenv etc.
add type: module for es6 imports and add start and server points
"start": "node server",
"server": "nodemon server" 

created a .env file in root and added the PORT value
dont add semicolon at the end
dotenv.config();

if we use a seperate folder structure like config/.env then we need to add path
dotenv.config({ path: './config/.env' });

import express from "express";
import colors from "colors";
import morgan from "morgan";
import dotenv from "dotenv";
dotenv.config();
const app = express();
app.get("/", (req, res) => res.send("Hello"));
const PORT = process.env.PORT || 5000;
app.listen(PORT, () =>
  console.log(`Server runnning in ${process.env.NODE_ENV} mode on port ${PORT}`.yellow.bold)
);

routes
-------------
import express from 'express';
const router = express.Router();
router.get('/',(req,res)=>res.send('Hello from routes'));
export default router;

import transactionRoutes from "./routes/transactionRoutes.js";
app.use("/api/transactions", transactionRoutes);

app.get changes to app.use when router is introduced
controllers
-----------------
create a ctroller folder and transactionControllers.js..

export const getTransactions = (req, res, next)=>{
    res.send('Get Transactions')
}
import { getTransactions } from '../controllers/transactionControllers.js';

router.route('/').get(getTransactions).post(addTransaction);
router.route('/:id').delete(deleteTransaction);

checkin postman
--database--------------

Mondodb---new project--get the connection string and add in .env
/db.name?
go to cluster in sidebar and create --database and collection transaction 
set the network to get access from IP address

create a db.js in config folder
import mongoose and create a connectDB variable as follows

export const connectDB = async ()=>{
    try {
        const conn = await mongoose.connect(process.env.MONGO_URI)
         console.log(`Mongo connected in ${conn.connection.host}`.cyan.underline.bold)
    } catch (error) {
        console.log(`Error: ${err.message}`.red);
        process.exit(1);
    }
}
when we use mongoose it always return a promise so use async await instead of .then which is clumsy

models
------------
created  a model Transaction with transactionSchema for text and amount

import mongoose from "mongoose";

const TransactionSchema = new mongoose.Schema({
    text:{
        type:String,
        trim:true,
        required: [true, 'Please add some text']
    },
    amount:{
        type: Number,
        required: [true, 'Please add some number']
    },
},

{
        timestamps: true,
    });

export default mongoose.model('Transaction',TransactionSchema)
if default not given in this model it gives error
database name beofre ?
collections name is got from schema which will be converted to plural and smallcase 



imported model in controllers and run the get

export const getTransactions = async (req, res, next) => {
  // res.send("Get Transactions");
 try {
     const transactions = await Transaction.find();

     return res.status(200).json({
      success: true,
      count: transactions.length,
      data: transactions,
     })
 } catch (error) {
    return res.status(500).json({
      success: false,
      error: 'Server Error'
    });
 }

};
mistake
---------------------
always place the body parser above routes

addtransactions
if nothing in POST we need to set error
any one is posted error


deleted transaction
req.params.id
deleteOne method

proxy --client package.jsaon
concurrently  --root package.json
npm run dev

check postman allworks
in client install axios
back to server and npm run dev

goto globalstate of client add async getTransactions becuase axios retrun a promise
async function getTransactions(){
try {
  const res = await axios.get('/api/transactions');

  dispatch({
    type: 'GET_TRANSACTIONS',
    payload: res.data.data
    //inside the output of get entry point we have data so to fetch that we write as res.data and then .data

  })
} catch (error) {
   dispatch({
    type: 'TRANSACTION_ERROR',
    payload: error.response.data.error
    //inside the output of empty post entry point we have error so to fetch that we write 
    // as error.response.data and then .error
  })
}

}

const initialState = {
  transactions: [],
  error: null,
  loading: true,
};

we need to add thse actions in the appreducer the dispatch is got as action.payload here
 case 'GET_TRANSACTION':
            return {
                ...state,
                loading: false,
                transactions: action.payload
            }

         case 'TRANSACTION_ERROR':
                return{
                    ...state,
                    error: action.payload
                }
    change the following in add transaction of reducer because in state it should be frontend
    but in axios we need place at the end

  // transactions: [action.payload,...state.transactions]
                transactions: [...state.transactions,action.payload]

 add the getTransactions in transactionList page 

 const { transactions, getTransactions } = useContext(GlobalContext);
 and use useEffect

  useEffect(()=>{
    getTransactions();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  },[]);
the above line is alterante for dependency array

    morgan ---shows the logs of end points in the terminal
                if(process.env.NODE_ENV === development){
app.use(morgan('dev'));
}

restart and check the outpt to see the output in the react
Got errror for GET_TRANSACTION spelling in global and reducer mismatch

we got the itms from db so gettransactions is working
now to delete transactions which breaks when we click x we need to put _id as in mongoose
its _id and not id.
since axios it return a promise so give async and await

async function deleteTransaction(id) {
    try {
      await axios.delete(`/api/transactions/${id}`)
      dispatch({
      type: "DELETE_TRANSACTION",
      payload: id
    });

    } catch (error) {
       dispatch({
    type: 'TRANSACTION_ERROR',
    payload: error.response.data.error

    });
  }}

 case 'DELETE_TRANSACTION':
            return{
                ...state,
                transactions: state.transactions.filter(transaction => transaction._id !== action.payload)
            }
In transaction also change id to _id
<button
          onClick={() => deleteTransaction(transaction._id)}
          className="delete-btn"
        >

To display the values with commas added a function in utils/format.js

export function numberWithCommas(x) {
  return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}
added this function name in incomeexpense page, balance page and transaction page also

client and give
npm run build
cd.. 